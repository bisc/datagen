(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 12.1' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[     11680,        294]
NotebookOptionsPosition[     10913,        274]
NotebookOutlinePosition[     11315,        290]
CellTagsIndexPosition[     11272,        287]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[
 RowBox[{
  RowBox[{"(*", " ", 
   RowBox[{
   "Helper", " ", "function", " ", "to", " ", "help", " ", "parse", " ", 
    "probability", " ", "symbols", " ", "in", " ", "input"}], " ", "*)"}], 
  "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{"P", "[", "e_", "]"}], ":=", "\[IndentingNewLine]", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"expr", "=", 
      RowBox[{"ToString", "[", "e", "]"}]}], ";", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"StringContainsQ", "[", 
        RowBox[{"expr", ",", 
         RowBox[{"__", "~~", "\"\<|\>\"", "~~", "__"}]}], "]"}], ",", 
       RowBox[{"myCondProb", "[", 
        RowBox[{"ToExpression", "[", 
         RowBox[{"StringReplace", "[", 
          RowBox[{"expr", ",", 
           RowBox[{"\"\<|\>\"", "\[Rule]", "\"\<\[Conditioned]\>\""}]}], 
          "]"}], "]"}], "]"}], ",", 
       RowBox[{"myProb", "[", 
        RowBox[{"ToExpression", "[", "expr", "]"}], "]"}]}], "]"}]}], 
    ")"}]}]}]], "Input",
 CellChangeTimes->{{3.8061497156221833`*^9, 3.80614972683022*^9}, {
  3.806150504152422*^9, 3.8061505420030956`*^9}, {3.806154019093583*^9, 
  3.806154019598124*^9}},ExpressionUUID->"8e25305a-c121-4143-a8cc-\
043545f0f721"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", " ", 
   RowBox[{
   "Parse", " ", "text", " ", "input", " ", "given", " ", "file", " ", 
    "path"}], " ", "*)"}], "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{"Parse", "[", "s_", "]"}], ":=", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"path", "=", "s"}], "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"input", "=", 
       RowBox[{"Import", "[", 
        RowBox[{"path", ",", " ", "\"\<Lines\>\""}], "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"(*", " ", 
       RowBox[{"Process", " ", "configs", " ", 
        RowBox[{"(", 
         RowBox[{"not", " ", "specs"}], ")"}]}], " ", "*)"}], 
      "\[IndentingNewLine]", 
      RowBox[{"i", " ", "=", " ", "1"}], ";", "\[IndentingNewLine]", 
      RowBox[{"While", "[", 
       RowBox[{
        RowBox[{"StringMatchQ", "[", 
         RowBox[{
          RowBox[{"ToString", "[", 
           RowBox[{"input", "[", 
            RowBox[{"[", "i", "]"}], "]"}], "]"}], ",", 
          RowBox[{"__", "~~", "\"\<: \>\"", "~~", "__"}]}], "]"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"ToExpression", "[", 
          RowBox[{"StringReplace", "[", 
           RowBox[{
            RowBox[{"ToString", "[", 
             RowBox[{"input", "[", 
              RowBox[{"[", "i", "]"}], "]"}], "]"}], ",", 
            RowBox[{"\"\<: \>\"", " ", "\[Rule]", "\"\<=\>\""}]}], "]"}], 
          "]"}], ";", "\[IndentingNewLine]", 
         RowBox[{"i", "++"}]}]}], "\[IndentingNewLine]", "]"}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"(*", " ", 
       RowBox[{
       "Association", " ", "structure", " ", "helps", " ", "with", " ", 
        "interpreting", " ", "independence", " ", "specifications"}], " ", 
       "*)"}], "\[IndentingNewLine]", 
      RowBox[{"strassoc", "=", "\"\<varvalues=<|\>\""}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"j", "=", "1"}], ";", "\[IndentingNewLine]", 
      RowBox[{"While", "[", 
       RowBox[{
        RowBox[{"j", "<", 
         RowBox[{"Length", "[", "variables", "]"}]}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"strassoc", "=", 
          RowBox[{"strassoc", "<>", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"ToString", "[", 
              RowBox[{"variables", "[", 
               RowBox[{"[", "j", "]"}], "]"}], "]"}], "<>", "\"\<->\>\"", "<>", 
             RowBox[{"ToString", "[", 
              RowBox[{"values", "[", 
               RowBox[{"[", "j", "]"}], "]"}], "]"}], "<>", "\"\<,\>\""}], 
            ")"}]}]}], ";", "\[IndentingNewLine]", 
         RowBox[{"j", "++"}]}]}], "\[IndentingNewLine]", "]"}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"strassoc", "=", 
       RowBox[{"strassoc", "<>", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"ToString", "[", 
           RowBox[{"variables", "[", 
            RowBox[{"[", "j", "]"}], "]"}], "]"}], "<>", "\"\<->\>\"", "<>", 
          RowBox[{"ToString", "[", 
           RowBox[{"values", "[", 
            RowBox[{"[", "j", "]"}], "]"}], "]"}], "<>", "\"\<|>\>\""}], 
         ")"}]}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"ToExpression", "[", "strassoc", "]"}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"i", "++"}], ";", 
      RowBox[{"(*", " ", 
       RowBox[{"skip", " ", "filler", " ", "line"}], " ", "*)"}], 
      "\[IndentingNewLine]", 
      RowBox[{"(*", " ", 
       RowBox[{"Process", " ", "specs"}], " ", "*)"}], "\[IndentingNewLine]", 
      RowBox[{"(*", " ", "Independence", " ", "*)"}], "\[IndentingNewLine]", 
      RowBox[{"specs", "=", 
       RowBox[{"{", "}"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"While", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"i", "\[LessEqual]", 
          RowBox[{"Length", "[", "input", "]"}]}], "&&", 
         RowBox[{"StringContainsQ", "[", 
          RowBox[{
           RowBox[{"ToString", "[", 
            RowBox[{"input", "[", 
             RowBox[{"[", "i", "]"}], "]"}], "]"}], ",", "\"\<indep\>\""}], 
          "]"}]}], ",", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"line", "=", 
          RowBox[{"ToString", "[", 
           RowBox[{"input", "[", 
            RowBox[{"[", "i", "]"}], "]"}], "]"}]}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"Join", "[", 
          RowBox[{"specs", ",", 
           RowBox[{"ToExpression", "[", 
            RowBox[{"ToString", "[", 
             RowBox[{"input", "[", 
              RowBox[{"[", "i", "]"}], "]"}], "]"}], "]"}]}], "]"}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"i", "++"}]}]}], "\[IndentingNewLine]", "]"}], ";", 
      "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"Length", "[", "specs", "]"}], ">", "0"}], ",", 
        RowBox[{"i", "++"}]}], " ", "]"}], ";", " ", 
      RowBox[{"(*", " ", 
       RowBox[{
       "skip", " ", "filler", " ", "line", " ", "if", " ", "there", " ", 
        "were", " ", "independence", " ", "statements"}], "*)"}], 
      "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{"(*", " ", 
       RowBox[{"Numerical", " ", "specs"}], " ", "*)"}], 
      "\[IndentingNewLine]", 
      RowBox[{"While", "[", 
       RowBox[{
        RowBox[{"i", "\[LessEqual]", 
         RowBox[{"Length", "[", "input", "]"}]}], ",", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"line", "=", 
          RowBox[{"ToString", "[", 
           RowBox[{"input", "[", 
            RowBox[{"[", "i", "]"}], "]"}], "]"}]}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"AppendTo", "[", 
          RowBox[{"specs", ",", 
           RowBox[{"ToExpression", "[", 
            RowBox[{"StringReplace", "[", 
             RowBox[{
              RowBox[{"ToString", "[", 
               RowBox[{"input", "[", 
                RowBox[{"[", "i", "]"}], "]"}], "]"}], ",", 
              RowBox[{"\"\<=\>\"", "\[Rule]", "\"\<==\>\""}]}], "]"}], 
            "]"}]}], "]"}], ";", "\[IndentingNewLine]", 
         RowBox[{"i", "++"}]}]}], "\[IndentingNewLine]", "]"}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"Print", "[", "specs", "]"}]}]}], "\[IndentingNewLine]", 
    "]"}]}]}]], "Input",
 CellChangeTimes->{{3.806057492372096*^9, 3.8060575309825*^9}, {
   3.8060579053802996`*^9, 3.8060579129469323`*^9}, {3.806057987525503*^9, 
   3.8060580238700976`*^9}, {3.8060580616501307`*^9, 
   3.8060580770090013`*^9}, {3.806059206302709*^9, 3.8060592388629665`*^9}, {
   3.806059302295495*^9, 3.8060593319704266`*^9}, {3.806059369027112*^9, 
   3.8060594384421864`*^9}, {3.806059490846111*^9, 3.8060594923292575`*^9}, 
   3.8060596406689353`*^9, {3.806147399305478*^9, 3.806147444512808*^9}, {
   3.806149045383*^9, 3.8061490704630938`*^9}, {3.8061491726230016`*^9, 
   3.8061491935203514`*^9}, 3.8061492888767304`*^9, {3.806149464984921*^9, 
   3.8061495240648613`*^9}, {3.8061495788201427`*^9, 
   3.8061496916604333`*^9}, {3.806149729309866*^9, 3.806149824837809*^9}, {
   3.806149863730241*^9, 3.8061498908521595`*^9}, {3.806150023131923*^9, 
   3.8061500459966006`*^9}, {3.8061502400959744`*^9, 
   3.8061502746266985`*^9}, {3.8061503342063365`*^9, 3.8061504230998487`*^9}, 
   3.806150469026291*^9, {3.8061540382309456`*^9, 3.806154057811308*^9}, {
   3.806154274496481*^9, 
   3.8061542750382786`*^9}},ExpressionUUID->"bf1aace9-6417-4e22-8ab8-\
6a3e84ff7c63"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Parse", "[", 
  "\"\<C:\\\\Users\\\\jason\\\\OneDrive\\\\Documents\\\\Wolfram Mathematica\\\
\\StaticEx.txt\>\"", "]"}]], "Input",
 CellChangeTimes->{{3.806150059076595*^9, 3.806150063865177*^9}},
 CellLabel->"In[13]:=",ExpressionUUID->"c620664a-d32a-494a-8919-1a35706a0285"],

Cell[BoxData[
 TemplateBox[{
  "Join", "heads", 
   "\"Heads \\!\\(\\*RowBox[{\\\"List\\\"}]\\) and \\!\\(\\*RowBox[{\\\"indep\
\\\"}]\\) at positions \\!\\(\\*RowBox[{\\\"1\\\"}]\\) and \
\\!\\(\\*RowBox[{\\\"2\\\"}]\\) are expected to be the same.\"", 2, 13, 3, 
   31810155263142062975, "Local"},
  "MessageTemplate"]], "Message", "MSG",
 CellChangeTimes->{3.8061500646226025`*^9, 3.8061504947111053`*^9},
 CellLabel->
  "During evaluation of \
In[13]:=",ExpressionUUID->"f39aa7f6-10d0-461b-9f84-6c9d9146b2a4"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"Null", ",", 
   RowBox[{
    RowBox[{"myProb", "[", 
     RowBox[{"B", "\[Equal]", "red"}], "]"}], "\[Equal]", "0.3`"}], ",", 
   RowBox[{
    RowBox[{
     RowBox[{"myCondProb", "[", 
      RowBox[{
       RowBox[{"A", "\[Equal]", "1"}], "\[Conditioned]", 
       RowBox[{"B", "\[Equal]", "blue"}]}], "]"}], "+", 
     RowBox[{"myProb", "[", 
      RowBox[{"B", "\[Equal]", "red"}], "]"}]}], "\[Equal]", "0.9`"}], ",", 
   RowBox[{
    RowBox[{"myProb", "[", 
     RowBox[{
      RowBox[{"A", "\[Equal]", "2"}], "&&", 
      RowBox[{"B", "\[Equal]", "blue"}]}], "]"}], "\[Equal]", "0.2`"}]}], 
  "}"}]], "Print",
 CellChangeTimes->{3.806150064633572*^9, 3.8061504947216263`*^9},
 CellLabel->
  "During evaluation of \
In[13]:=",ExpressionUUID->"650a83ed-61ea-434f-b2db-2feb35421ff8"]
}, Open  ]]
},
WindowSize->{1142.1, 576.9},
WindowMargins->{{0, Automatic}, {Automatic, 0}},
FrontEndVersion->"12.1 for Microsoft Windows (64-bit) (March 18, 2020)",
StyleDefinitions->"Default.nb",
ExpressionUUID->"d36fafc7-6dc3-4aa4-a514-bd741b77882e"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[558, 20, 1204, 30, 86, "Input",ExpressionUUID->"8e25305a-c121-4143-a8cc-043545f0f721"],
Cell[1765, 52, 7465, 172, 736, "Input",ExpressionUUID->"bf1aace9-6417-4e22-8ab8-6a3e84ff7c63"],
Cell[CellGroupData[{
Cell[9255, 228, 299, 5, 28, "Input",ExpressionUUID->"c620664a-d32a-494a-8919-1a35706a0285"],
Cell[9557, 235, 513, 11, 23, "Message",ExpressionUUID->"f39aa7f6-10d0-461b-9f84-6c9d9146b2a4"],
Cell[10073, 248, 824, 23, 22, "Print",ExpressionUUID->"650a83ed-61ea-434f-b2db-2feb35421ff8"]
}, Open  ]]
}
]
*)

